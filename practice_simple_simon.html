<!DOCTYPE html>
<html>
<head>
    <title>Simple Simon</title>
    <link rel="stylesheet" href="/css/css_simon.css">
</head>
<body>
<h1>Simple Simon</h1>

<button id="start">START</button>
<div id="black_box"></div>
<div id= game_box>
    <div id="0" class="red square"></div>
    <div id="1" class="green square"></div>
    <div id="2" class="yellow square" ></div>
    <div id="3" class="blue square"></div>
</div>

<button id="rounds">round: 0</button>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script>
(function(){
 "use strict"

    // <------------THIS IT THE START BUTTON ------>


    $("#start").click (function(){
        simonMove();
        });

    var $square = $('.square');
    var simonTurn = [];
    var playerTurn = [];
    var colors = {
        red: 0,
        green: 1,
        yellow: 2,
        blue: 3,
    }
   

    // after pushing start this tells simon to start its turn
    function simonMove() {
    simonTurn = [];
    randomNumber();
    play();
  
    }

    function randomNumber() {
        var random = Math.floor(Math.random() * 4);
        simonTurn.push([random]);
        console.log(random);
    } 


    function play() {
        var i = 0;
        var intervalId = setInterval(function () {
            lightUp(document.getElementById(simonTurn[i]));
            i++;
            if (i >= simonTurn.length) {
                clearInterval(intervalId);
            }
        }, 500);
    }

    function lightUp(element) {
        element.style.opacity = "1";
        var fadeoutTimerId = setTimeout(function() {
            element.style.opacity = "0.5";
        }, 500);
    }

    $square.click(function(){
        $(this).css("opacity", "1");
        var clickTimer = setTimeout(function(){
            $square.css("opacity", "0.5");
        }, 500);

    }) 






})();
</script>
</body>
</html>